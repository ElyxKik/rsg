# üîê VARIABLES D'ENVIRONNEMENT - RSG
# IMPORTANT: Ne jamais commiter ce fichier avec des valeurs r√©elles
# Copier en .env.local et remplir avec les vraies valeurs

# ============================================================================
# ENVIRONNEMENT
# ============================================================================
NODE_ENV=development
ENVIRONMENT=development

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://postgres:postgres_dev_password@localhost:5432/rsg_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=rsg_db
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres_dev_password
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================================
# REDIS (Cache & Sessions)
# ============================================================================
REDIS_URL=redis://:redis_dev_password@localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_dev_password
REDIS_DB=0

# ============================================================================
# JWT & AUTHENTICATION
# ============================================================================
JWT_SECRET=your_jwt_secret_key_here_min_32_chars_long_change_in_prod
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here_min_32_chars_long_change_in_prod
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=7d
NEXTAUTH_SECRET=your_nextauth_secret_key_here_min_32_chars_long_change_in_prod
NEXTAUTH_URL=http://localhost:3000

# ============================================================================
# ENCRYPTION
# ============================================================================
ENCRYPTION_KEY=your_encryption_key_here_min_32_chars_long_change_in_prod
ENCRYPTION_ALGORITHM=aes-256-gcm

# ============================================================================
# STRAPI
# ============================================================================
STRAPI_ADMIN_JWT_SECRET=strapi_admin_jwt_secret_dev_key_change_in_production
STRAPI_LOG_LEVEL=debug
STRAPI_TRANSFER_TOKEN_SALT=strapi_transfer_token_salt_dev_key_change_in_production
API_TOKEN_SALT=strapi_api_token_salt_dev_key_change_in_production

# ============================================================================
# 2FA (TOTP)
# ============================================================================
TOTP_WINDOW=2
TOTP_STEP=30

# ============================================================================
# EMAIL (SendGrid / Mailgun)
# ============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your_sendgrid_api_key_here
SMTP_FROM_EMAIL=noreply@rsg.gov.cd
SMTP_FROM_NAME=R√©serve Strat√©gique G√©n√©rale

# Alternative: Mailgun
# MAILGUN_API_KEY=your_mailgun_api_key_here
# MAILGUN_DOMAIN=mg.rsg.gov.cd

# ============================================================================
# S3 / CLOUDFLARE R2 (File Storage)
# ============================================================================
S3_ACCESS_KEY_ID=your_s3_access_key_here
S3_SECRET_ACCESS_KEY=your_s3_secret_key_here
S3_BUCKET=rsg-media
S3_REGION=us-east-1
S3_ENDPOINT=https://s3.amazonaws.com
# Pour Cloudflare R2:
# S3_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# ============================================================================
# CLOUDFLARE
# ============================================================================
CLOUDFLARE_ZONE_ID=your_cloudflare_zone_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
CLOUDFLARE_TURNSTILE_SECRET_KEY=your_turnstile_secret_key
NEXT_PUBLIC_CLOUDFLARE_TURNSTILE_SITE_KEY=your_turnstile_site_key

# ============================================================================
# MAPBOX (Cartographie)
# ============================================================================
NEXT_PUBLIC_MAPBOX_TOKEN=your_mapbox_token_here

# ============================================================================
# ANALYTICS (Matomo)
# ============================================================================
NEXT_PUBLIC_MATOMO_URL=http://localhost:8080
NEXT_PUBLIC_MATOMO_SITE_ID=1
MATOMO_AUTH_TOKEN=your_matomo_auth_token_here

# ============================================================================
# SENTRY (Error Tracking)
# ============================================================================
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_TRACE_SAMPLE_RATE=0.1

# ============================================================================
# DATADOG / NEW RELIC (Monitoring)
# ============================================================================
DATADOG_API_KEY=your_datadog_api_key_here
DATADOG_APP_KEY=your_datadog_app_key_here
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key_here

# ============================================================================
# FRONTEND (Next.js)
# ============================================================================
NEXT_PUBLIC_API_URL=http://localhost:1337
NEXT_PUBLIC_INTRANET_URL=http://localhost:3001
NEXT_PUBLIC_APP_NAME=R√©serve Strat√©gique G√©n√©rale
NEXT_PUBLIC_APP_DESCRIPTION=Plateforme num√©rique officielle de la RSG
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================================
# INTRANET (Next.js Private)
# ============================================================================
NEXT_PUBLIC_INTRANET_API_URL=http://localhost:1337/api/intranet
INTRANET_NEXTAUTH_URL=http://localhost:3001
INTRANET_NEXTAUTH_SECRET=intranet_nextauth_secret_dev_key_change_in_production

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14

# ============================================================================
# SECURITY
# ============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ============================================================================
# SESSION
# ============================================================================
SESSION_TIMEOUT_MS=900000
SESSION_REFRESH_THRESHOLD_MS=300000
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# ============================================================================
# BACKUP
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_S3_BUCKET=rsg-backups
BACKUP_S3_REGION=us-east-1

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_2FA_ENABLED=true
FEATURE_BLOG_ENABLED=true
FEATURE_INTRANET_ENABLED=true
FEATURE_OPEN_DATA_ENABLED=true
FEATURE_CARTOGRAPHY_ENABLED=true
FEATURE_DARK_MODE_ENABLED=false

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Google Analytics (si utilis√©)
NEXT_PUBLIC_GA_ID=your_google_analytics_id

# Slack (notifications)
SLACK_WEBHOOK_URL=your_slack_webhook_url

# GitHub (CI/CD)
GITHUB_TOKEN=your_github_token
GITHUB_REPO=rsg-drc/site-institutionnel

# ============================================================================
# D√âVELOPPEMENT
# ============================================================================
DEBUG=false
VERBOSE_LOGGING=false
MOCK_EXTERNAL_SERVICES=false
SKIP_VALIDATION=false

# ============================================================================
# PRODUCTION (√Ä CONFIGURER)
# ============================================================================
# D√©commenter et configurer pour la production
# NODE_ENV=production
# ENVIRONMENT=production
# DATABASE_SSL=true
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_SAME_SITE=strict
# SENTRY_TRACE_SAMPLE_RATE=0.01
